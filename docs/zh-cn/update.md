# 更新日志

## 4.1.9（2021-12-27）

* 【新增】懒加载功能(lazyLoad)
* 【新增】rawSelect和rawUpdate方法，直接传入SQL语句
* 【新增】delete(Class clazz)方法，可根据唯一约束和id删除实体类
* 【新增】DAOUtil添加对比数据库字段信息并生成SQL语句的功能
* 【新增】英文使用文档
* 【优化】支持新增自增列
* 【优化】添加使用or查询条件时不能使用joinTable的异常提示
* 【优化】优化insertBatch和insertArrayBatch方法
* 【优化】去掉拦截器功能(Interceptor)
* 【修复】解决mysql迁移表结构报错问题

## 4.1.8（2021-08-04）

* 【新增】Oracle分页操作支持
* 【新增】DAOUtil工具类，支持同步多个数据库的表结构和数据
* 【新增】插入或者更新时可以指定字段值，例如插入记录时设置当前登录用户
* 【新增】事务操作便捷方法，避免需要编写样板代码
* 【优化】优化大数据量批量插入时的方法效率，支持batch方式插入
* 【优化】优化了根据数据库信息生成Java实体类的方法，支持设置数据库列类型和Java类型转换功能
* 【优化】解决初始化时因数据库表较多导致初始化较慢的问题，简化了sql查询语句
* 【优化】解决初始化时重复获取数据库表信息问题

## 4.1.7（2021-06-23）

* 【新增】Oracle数据库支持，支持11g以上版本
* 【新增】DCL操作，支持数据库的创建用户，授权，取消授权等相关操作
* 【优化】id生成器返回值改成String类型，可更灵活的设置id生成值
* 【修复】解决postgre低版本获取自增id时报异常问题

## 4.1.6（2021-05-17）

* 【新增】MariaDb数据库支持
* 【优化】完善适配SQLServer数据库各项数据库操作
* 【优化】解决SQL语句日志打印出现漏打印情况，本次更新会打印所有最终执行的SQL语句

## 4.1.5（2021-04-21）

* 【新增】数据源迁移功能，支持跨数据源迁移（例如用sqlite迁移到mysql）
* 【新增】添加addColumnExclude方法，用于返回部分字段
* 【优化】fastjson依赖升级至1.2.75
* 【修复】取消使用MDC保存日志，避免和用户业务代码产生冲突
* 【修复】手动新增索引using字符串异常问题
* 【修复】解决子查询生成查询语句时未添加分页和排序的问题

## 4.1.4（2021-03-05）

* 【新增】lambda表达式支持
* 【修复】解决SQL存在语法错误时无法打印日志的问题
* 【修复】addColumn方法会自动判断是否需要添加表别名前缀，之前版本不会添加导致可能出现ambiguous column错误
* 【修复】解决子查询表别名默认都设置为t的问题，本次更新后调用子查询相关方法时都会自动添加相应表别名

## 4.1.3（2021-03-01）

* 【新增】SubCondition新增on方法，支持多字段关联
* 【新增】全局类型转换功能，可手动指定全局的列类型转换函数
* 【修复】解决类型转换功能对虚拟查询不起作用的问题

## 4.1.2（2021-02-23）

* 【新增】新增@CompositeIndex注解，支持在表上建立组合索引
* 【新增】新增@UniqueField注解，标识哪些字段来判断记录是否唯一
* 【新增】@Index注解支持指定索引类型，索引名称，索引方法等信息
* 【新增】支持指定返回列类型，可通过columnTypeMapping方法指定要返回的列的类型
* 【修复】解决SQLite数据库不支持LocalDate和LocalDateTime的问题

## 4.1.1（2021-02-09）

* 【新增】添加insertIgnore方法，存在时忽略，不存在时插入
* 【新增】虚拟查询支持返回JSONObject对象
* 【优化】addColumn方法返回的字段会根据数据库类型自动匹配Java类型
* 【优化】SQLite获取数据库连接和关闭连接时加锁，避免出现busy问题

## 4.0（2020-12-28）

QuickDAO4.0正式发布，相比于3.X版本，架构上重新设计，代码结构更加清晰。